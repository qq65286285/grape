# 开发环境配置
server:
  # 服务器的HTTP端口，默认为8080
  port: 8209
  servlet:
    # 应用的访问路径
    context-path: /api
  tomcat:
    # tomcat的URI编码
    uri-encoding: UTF-8
    # 连接数满后的排队数，默认为100
    accept-count: 1000
    threads:
      # tomcat最大线程数，默认为200
      max: 800
      # Tomcat启动初始化的线程数，默认值10
      min-spare: 100
  aop:
    auto: true

# Spring配置
spring:
  # 自动配置排除 - 如果服务不可用，可以禁用自动配置
  autoconfigure:
    exclude:
      # 如果不使用 Redis，取消下面的注释
      # - org.springframework.boot.autoconfigure.data.redis.RedisAutoConfiguration
      # 如果不使用 Neo4j，取消下面的注释
      # - org.springframework.boot.autoconfigure.data.neo4j.Neo4jDataAutoConfiguration
  # 资源信息
  messages:
    # 国际化资源文件路径
    basename: i18n/messages
  profiles:
    active: default
  # 文件上传
  servlet:
     multipart:
       # 单个文件大小
       max-file-size:  100MB
       # 设置总上传的文件大小
       max-request-size:  200MB
  datasource:
    type: com.alibaba.druid.pool.DruidDataSource
    driverClassName: com.mysql.cj.jdbc.Driver
    # url: jdbc:mysql://127.0.0.1:3306/grape?useUnicode=true&characterEncoding=utf8&zeroDateTimeBehavior=convertToNull&useSSL=false&allowPublicKeyRetrieval=true&serverTimezone=GMT%2B8
    url: jdbc:mysql://127.0.0.1:13306/grape?useUnicode=true&characterEncoding=utf8&zeroDateTimeBehavior=convertToNull&useSSL=false&allowPublicKeyRetrieval=true&serverTimezone=GMT%2B8
    # url: jdbc:mysql://192.168.22.140:3306/grape?useUnicode=true&characterEncoding=utf8&zeroDateTimeBehavior=convertToNull&useSSL=false&allowPublicKeyRetrieval=true&serverTimezone=GMT%2B8
    username: root
    password: root
  # Neo4j配置
  neo4j:
    uri: bolt://localhost:7687
    authentication:
      username: neo4j
      password: 12345678
  # 智谱API配置
  zhijian:
    api:
      baseUrl: https://api.zhijian.com/v1
      apiKey: e313bec625e746dc8b5402ac7038d5f4.8qt0x2N25LXiYCD2
      timeout: 30000

  ai:
    ollama:
      pull-model-strategy: always
      timeout: 60s
      max-retries: 1
      base-url: http://127.0.0.1:11434
      chat:
        options:
          model: deepseek-r1:1.5b
logging:
  level:
    org:
      springframework:
        security: DEBUG
    com:
      grape:
        grape:
          mapper: DEBUG
          service:
            impl: DEBUG
      mybatisflex:
        core:
          mapper:
            Mapper: DEBUG
          query:
            QueryWrapper: DEBUG

# Minio 配置
# minio:
#   url: http://192.168.22.140:9000
#   accessKey: admin
#   secretKey: minio123456
#   bucketName: grape

minio:
  url: http://127.0.0.1:9000
  accessKey: admin
  secretKey:  admin123456
  bucketName: grape

# 投屏功能配置（USB连接低延迟优化）
screen-mirror:
  # 视频分辨率（格式：宽x高）
  # 选项：1080x1920(高清) | 720x1280(标准) | 540x960(流畅) | 360x640(极速)
  video-size: 720x1280

  # 视频比特率（bps）- USB连接可以用更高比特率
  # 选项：8000000(8Mbps) | 6000000(6Mbps) | 4000000(4Mbps) | 2000000(2Mbps)
  bit-rate: 6000000

  # 缓冲区大小（字节）- 降低缓冲减少延迟
  # 选项：4096(低延迟) | 8192(平衡) | 16384(高吞吐)
  buffer-size: 4096

  # WebSocket 超时时间（毫秒）
  timeout: 480000

  # 端口范围
  port-range-start: 20000
  port-range-size: 10000

  # 是否使用 ADB screenrecord（支持 Android 15）
  use-adb-screenrecord: true

# 科大讯飞星火大模型配置
xfyun:
  spark:
    host-url: "https://spark-api.xf-yun.com/v1/x1"
    domain: "spark-x"
    appid: "d2dd156b"
    api-secret: "NGRjODRhZmE1OTcyY2VlNWM5OTVkYzRk"
    api-key: "fea2b3c358dfea4e8754cb3730a42058"